@page
@model ProductsModel
@{
    ViewData["Title"] = "Products";
}

<h1>Products</h1>

<ul id="productList"></ul>

<script>
    async function fetchProducts() {
        const response = await fetch('/api/products');
        const products = await response.json();
        const productList = document.getElementById('productList');
        products.forEach(product => {
            const li = document.createElement('li');
            li.textContent = `${product.name} - $${product.price}`;
            productList.appendChild(li);
        });
    }

    fetchProducts();
</script>
